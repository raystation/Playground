<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Grocery/Inventory</title>
	<link rel="stylesheet" href="../css/normalize.css">
	<link rel="stylesheet" href="style.css">
</head>
<body>

	<div class="container">
		
		<!-- shopping list -->
		<div class="shoppingList">
			<h1>shopping list</h1>
			<ul>
				<li id="add-shopping-list">+</li>
			</ul>
		</div>
		
		<!-- inventory -->
		<div class="inventory">
			<h1>inventory</h1>
			<ul>
				<li id="add-inventory-list">+</li>
			</ul>
		</div>

	</div>

	<div class="refreshButton">refresh</div>
	
	<script src="http://code.jquery.com/jquery-latest.js"></script>

	<script>

		console.log("creating list...");

		//variables for + button ids
		var $plusShoppingList = "#add-shopping-list";
		var $plusInventoryList = "#add-inventory-list";

		// shopping list array
		var shoppingList = [ "eggs", "milk", "orange juice", "celery", "tomatos", "onions"];

		// inventory list array
		var inventory = [ "spinach", "corn", "potatoes"];

		// // populates lists based on arrays
		function listPopulate( list, listID ) { 	
			for ( var i = 0; i < list.length; i++ ) {
    		listAdd( listID, list[i] );
		}}

		//add items to lists
		function listAdd( list, item ) {
			$(list).before("<li>" + item + "</li>");
		}

		function listRefresh() {
			refresh();
			listPopulate( shoppingList, $plusShoppingList );
			listPopulate( inventory, $plusInventoryList );
		}

		//remove everything except plus button 
		function refresh() {
			console.log($('shoppingList li').id);
			if ( $('shoppingList li').id == "add-shopping-list" ) {}
			else $(this).remove();
		}

		listRefresh();

		//manual refresh button
		$('.refreshButton').click( function() {
			listRefresh();
		});

		//removes item from shopping list on click
		$('.shoppingList li').click( function() {
			
			//pulls text of li that is clicked
			var itemMove = $(this).text();
			console.log( itemMove );

			//finds out what number in the array it is
			var itemRemove = shoppingList.indexOf(itemMove);
			console.log(itemRemove);

			//removes it from the array
			shoppingList.splice(itemRemove,1);
			console.log(shoppingList);
			//listRefresh();
		});

		console.log("ready.");

	</script>

</body>
</html>